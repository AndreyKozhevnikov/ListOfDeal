<Window xmlns:dxg="http://schemas.devexpress.com/winfx/2008/xaml/grid" 
        xmlns:dx="http://schemas.devexpress.com/winfx/2008/xaml/core" 
        x:Class="ListOfDeal.MainWindow"
        xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors"
            xmlns:dxlc="http://schemas.devexpress.com/winfx/2008/xaml/layoutcontrol"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="MainWindow" Height="700" Width="1200">
    <Grid>
        <dx:DXTabControl>
            <dx:DXTabItem Header="Enter new project">
                <dxlc:LayoutGroup Orientation="Vertical">
                    <dxlc:LayoutItem Label="Name:">
                        <dxe:TextEdit EditValue="{Binding CurrentProject.Name}"/>
                    </dxlc:LayoutItem>
                    <dxlc:LayoutItem Label="Type:">
                        <dxe:ComboBoxEdit ItemsSource="{Binding ProjectTypes}" ValueMember="Id" DisplayMember="Name" EditValue="{Binding CurrentProject.TypeId}"/>
                    </dxlc:LayoutItem>
                    <dxlc:LayoutItem Label="Comment:">
                        <dxe:TextEdit EditValue="{Binding CurrentProject.Comment}"/>
                    </dxlc:LayoutItem>
                    <Button Content="Add project" Command="{Binding AddNewProjectCommand}" Height="20"/>
                    <Button Content="test" Click="Button_Click" Height="20"/>
                    <dxg:GridControl ItemsSource="{Binding Projects}">
                        <dxg:GridControl.Columns>
                            <dxg:GridColumn FieldName="Name"/>
                            <dxg:GridColumn FieldName="DateCreated"/>
                            <dxg:GridColumn FieldName="TypeId">
                                <dxg:GridColumn.EditSettings>
                                    <dxe:ComboBoxEditSettings ItemsSource="{Binding ProjectTypes}" ValueMember="Id" DisplayMember="Name" />
                                </dxg:GridColumn.EditSettings>
                            </dxg:GridColumn>
                            <dxg:GridColumn FieldName="Comment"/>
                            <dxg:GridColumn FieldName="IsWork"/>
                        </dxg:GridControl.Columns>
                        <dxg:GridControl.DetailDescriptor>
                            <dxg:DataControlDetailDescriptor ItemsSourcePath="Actions">
                                <dxg:DataControlDetailDescriptor.DataControl>
                                    <dxg:GridControl>
                                        <dxg:GridControl.Columns>
                                            <dxg:GridColumn FieldName="Name"/>
                                            <dxg:GridColumn FieldName="ActionTriggerId"/>
                                            <dxg:GridColumn FieldName="Status"/>
                                            <dxg:GridColumn FieldName="DateCreated"/>
                                            <dxg:GridColumn FieldName="ScheduledTime"/>
                                            <dxg:GridColumn FieldName="DelegatedTo"/>
                                            <dxg:GridColumn FieldName="Comment"/>
                                        </dxg:GridControl.Columns>
                                    </dxg:GridControl>
                                </dxg:DataControlDetailDescriptor.DataControl>
                            </dxg:DataControlDetailDescriptor>
                        </dxg:GridControl.DetailDescriptor>
                        <!--<dxg:GridControl.View>
                            <dxg:TableView/>
                        </dxg:GridControl.View>-->
                    </dxg:GridControl>
                </dxlc:LayoutGroup>
            </dx:DXTabItem>
        </dx:DXTabControl>
    </Grid>
</Window>
